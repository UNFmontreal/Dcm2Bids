
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This is the documentation for dcm2bids, a community-centered project that aims to be an easy-to-use tool to automate the process of 1- converting DICOM files to NIfTI files with dcm2niix and 2- reorganising NIfTI files into the Brain Imaging Data Structure (BIDS).">
      
      
      
        <link rel="canonical" href="https://UNFmontreal.github.io/Dcm2Bids/3.0.2/how-to/use-advanced-commands/">
      
      
        <link rel="prev" href="../create-config-file/">
      
      
        <link rel="next" href="../contributing/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Use advanced commands - dcm2bids documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-configuration-and-commands" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest stable version.
  <a href="../../..">


    <strong>Click here to go to latest stable.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="dcm2bids documentation" class="md-header__button md-logo" aria-label="dcm2bids documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            dcm2bids documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Use advanced commands
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/UNFmontreal/Dcm2Bids" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    UNFmontreal/dcm2bids
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="dcm2bids documentation" class="md-nav__button md-logo" aria-label="dcm2bids documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    dcm2bids documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/UNFmontreal/Dcm2Bids" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    UNFmontreal/dcm2bids
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../get-started/">Get started</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../tutorial/">Tutorials</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/first-steps/" class="md-nav__link">
        First steps
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">How-to guides</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How-to guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../get-help/" class="md-nav__link">
        Get help and support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-main-commands/" class="md-nav__link">
        Use main commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../create-config-file/" class="md-nav__link">
        Create a config file
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Use advanced commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Use advanced commands
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-advanced-configuration" class="md-nav__link">
    How to use advanced configuration
  </a>
  
    <nav class="md-nav" aria-label="How to use advanced configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom_entities-combined-with-extractors" class="md-nav__link">
    custom_entities combined with extractors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search_method" class="md-nav__link">
    search_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dup_method" class="md-nav__link">
    dup_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case_sensitive" class="md-nav__link">
    case_sensitive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_op" class="md-nav__link">
    post_op
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dcm2niixoptions" class="md-nav__link">
    dcm2niixOptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compkeys" class="md-nav__link">
    compKeys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criteria" class="md-nav__link">
    criteria
  </a>
  
    <nav class="md-nav" aria-label="criteria">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handle-multi-site-filtering" class="md-nav__link">
    Handle multi site filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhanced-floatint-comparison" class="md-nav__link">
    Enhanced float/int comparison
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-advanced-commands" class="md-nav__link">
    How to use advanced commands
  </a>
  
    <nav class="md-nav" aria-label="How to use advanced commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dcm2bids-advanced-options" class="md-nav__link">
    dcm2bids advanced options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_extract_entities" class="md-nav__link">
    --auto_extract_entities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bids_validate" class="md-nav__link">
    --bids_validate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-skip_dcm2niix" class="md-nav__link">
    --skip_dcm2niix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contribute to dcm2bids
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../changelog/">Changelog</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Changelog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/" class="md-nav__link">
        How to upgrade
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../dcm2bids" class="md-nav__link">
        API Reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../code_of_conduct/" class="md-nav__link">
        Code of conduct
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-advanced-configuration" class="md-nav__link">
    How to use advanced configuration
  </a>
  
    <nav class="md-nav" aria-label="How to use advanced configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom_entities-combined-with-extractors" class="md-nav__link">
    custom_entities combined with extractors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search_method" class="md-nav__link">
    search_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dup_method" class="md-nav__link">
    dup_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case_sensitive" class="md-nav__link">
    case_sensitive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_op" class="md-nav__link">
    post_op
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dcm2niixoptions" class="md-nav__link">
    dcm2niixOptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compkeys" class="md-nav__link">
    compKeys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criteria" class="md-nav__link">
    criteria
  </a>
  
    <nav class="md-nav" aria-label="criteria">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handle-multi-site-filtering" class="md-nav__link">
    Handle multi site filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhanced-floatint-comparison" class="md-nav__link">
    Enhanced float/int comparison
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-advanced-commands" class="md-nav__link">
    How to use advanced commands
  </a>
  
    <nav class="md-nav" aria-label="How to use advanced commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dcm2bids-advanced-options" class="md-nav__link">
    dcm2bids advanced options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_extract_entities" class="md-nav__link">
    --auto_extract_entities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bids_validate" class="md-nav__link">
    --bids_validate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-skip_dcm2niix" class="md-nav__link">
    --skip_dcm2niix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/UNFmontreal/Dcm2Bids/blob/master/how-to/use-advanced-commands.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/UNFmontreal/Dcm2Bids/raw/master/how-to/use-advanced-commands.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="advanced-configuration-and-commands">Advanced configuration and commands<a class="headerlink" href="#advanced-configuration-and-commands" title="Permanent link">⚓︎</a></h1>
<h2 id="how-to-use-advanced-configuration">How to use advanced configuration<a class="headerlink" href="#how-to-use-advanced-configuration" title="Permanent link">⚓︎</a></h2>
<p>These optional configurations can be inserted in the configuration file at the
same level as the <code>"description"</code> entry.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;extractors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;SeriesDescription&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;run-(?P&lt;run&gt;[0-9]+)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;task-(?P&lt;task&gt;[0-9]+)&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;BodyPartExamined&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;(?P&lt;bodypart&gt;[a-zA-Z]+)&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;search_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fnmatch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;case_sensitive&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dup_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dup&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;post_op&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pydeface --outfile dst_file src_file&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;datatype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anat&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;suffix&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;T1w&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;MP2RAGE&quot;</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;descriptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;datatype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anat&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;suffix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;T2w&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;custom_entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;acq-highres&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;bodypart&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;run&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;task&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;criteria&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="custom_entities-combined-with-extractors"><code>custom_entities</code> combined with extractors<a class="headerlink" href="#custom_entities-combined-with-extractors" title="Permanent link">⚓︎</a></h3>
<p>default: None</p>
<p>extractors will allow you to extract information embedded into sidecar files. In
the example above, it will try to match 2 different regex expressions (keys:
task, run) within the SeriesDescription field and bodypart in BodyPartExamined
field.</p>
<p>By using the same keys in custom_entities and if found, it will add this new
entities directly into the final filename. custom_entities can be a list that
combined extractor keys and regular entities. If key is <code>task</code> it will
automatically add the field "TaskName" inside the sidecase file.</p>
<h3 id="search_method"><code>search_method</code><a class="headerlink" href="#search_method" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"search_method": "fnmatch"</code></p>
<p>fnmatch is the behaviour (See criteria) by default and the fall back if this
option is set incorrectly. <code>re</code> is the other choice if you want more flexibility
to match criteria.</p>
<h3 id="dup_method"><code>dup_method</code><a class="headerlink" href="#dup_method" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"dup_method": "run"</code></p>
<p>run is the default behavior and will add '_run-' to the customEntities of the
acquisition if it finds duplicate destination roots.</p>
<p>dup will keep the last duplicate description and put <code>_dup-</code>to the
customEntities of the other acquisitions. This behavior is a
<a href="https://heudiconv.readthedocs.io/en/latest/changes.html">heudiconv</a> inspired
feature.</p>
<h3 id="case_sensitive"><code>case_sensitive</code><a class="headerlink" href="#case_sensitive" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"case_sensitive": "true"</code></p>
<p>If false, comparisons between strings/lists will be not case sensitive. It's
only disabled when used with <code>"search_method": "fnmatch"</code>.</p>
<h3 id="post_op"><code>post_op</code><a class="headerlink" href="#post_op" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"post_op": []</code></p>
<p>post_op key allows you to run any post-processing analyses just before moving
the images to there respective directories.</p>
<p>For example, if you want to deface your T1w images you could use pydeface by
adding:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;post_op&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pydeface --outfile dst_file src_file&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;datatype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anat&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;suffix&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;T1w&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;MP2RAGE&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">],</span>
</code></pre></div></td></tr></table></div>
<p>It will specifically run the corresponding <code>cmd</code> to any image that follow the
combinations datatype/suffix: <code>(anat, T1w) or (anat, MP2RAGE)</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Multiple post_op commands</p>
<p>Although you can add multiple commands, the combination datatype/suffix on which you want to run the command has to be unique.
You cannot run multiple commands on a specific combination datatype/suffix.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;post_op&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pydeface --outfile dst_file src_file&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;datatype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anat&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;suffix&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;T1w&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MP2RAGE&quot;</span><span class="p">]},</span>
<span class="w">            </span><span class="p">{</span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my_new_script --input src_file --output dst_file &quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;datatype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fmap&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;suffix&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;any&quot;</span><span class="p">]}],</span>
</code></pre></div></td></tr></table></div>
<p>In this example the second command <code>my_new_script</code> will be running on any image
which datatype is fmap.</p>
<p>Finally, this is a template string and dcm2bids will replace <code>src_file</code> and
<code>dst_file</code> by the source file (input) and the destination file (output).</p>
<h3 id="dcm2niixoptions"><code>dcm2niixOptions</code><a class="headerlink" href="#dcm2niixoptions" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"dcm2niixOptions": "-b y -ba y -z y -f '%3s_%f_%p_%t'"</code></p>
<p>Arguments for dcm2niix</p>
<h3 id="compkeys"><code>compKeys</code><a class="headerlink" href="#compkeys" title="Permanent link">⚓︎</a></h3>
<p>default: <code>"compKeys": ["SeriesNumber", "AcquisitionTime", "SidecarFilename"]</code></p>
<p>Acquisitions are sorted using the sidecar data. The default behaviour is to sort
by <code>SeriesNumber</code> then by <code>AcquisitionTime</code> then by the <code>SidecarFilename</code>. You
can change this behaviour setting this key inside the configuration file.</p>
<h3 id="criteria"><code>criteria</code><a class="headerlink" href="#criteria" title="Permanent link">⚓︎</a></h3>
<h4 id="handle-multi-site-filtering">Handle multi site filtering<a class="headerlink" href="#handle-multi-site-filtering" title="Permanent link">⚓︎</a></h4>
<p>As mentioned in the <a href="../../tutorial/first-steps/">first-steps tutorial</a>,
criteria is the way to filter specific acquisitions. If you work with dicoms
from multiple sites you will need different criteria for the same kind of
acquisition. In order to reduce the length of the config file, we developed a
feature where for a specific criteria you can get multiple descriptions.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;criteria&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;SeriesDescription&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;any&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*MPRAGE*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;*T1w*&quot;</span><span class="p">]}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="enhanced-floatint-comparison">Enhanced float/int comparison<a class="headerlink" href="#enhanced-floatint-comparison" title="Permanent link">⚓︎</a></h4>
<p>Criteria can help you filter acquisitions by comparing float/int sidecar.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;criteria&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;RepetitionTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;le&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0086&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>In this example, dcm2bids will check if RepetitionTime is lower or equal to
0.0086.</p>
<p>Here are the key coded to help you compare float/int sidecar.</p>
<table>
<thead>
<tr>
<th align="center">key</th>
<th align="center">operator</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong><code>lt</code></strong></td>
<td align="center">lower than</td>
</tr>
<tr>
<td align="center"><strong><code>le</code></strong></td>
<td align="center">lower than or equal to</td>
</tr>
<tr>
<td align="center"><strong><code>gt</code></strong></td>
<td align="center">greater than</td>
</tr>
<tr>
<td align="center"><strong><code>ge</code></strong></td>
<td align="center">greater than or equal to</td>
</tr>
<tr>
<td align="center"><strong><code>btw</code></strong></td>
<td align="center">between</td>
</tr>
<tr>
<td align="center"><strong><code>btwe</code></strong></td>
<td align="center">between or equal to</td>
</tr>
</tbody>
</table>
<p>If you want to use btw or btwe you will need to give an ordered list like this.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;criteria&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;EchoTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;btwe&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;0.0029&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;0.003&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="how-to-use-advanced-commands">How to use advanced commands<a class="headerlink" href="#how-to-use-advanced-commands" title="Permanent link">⚓︎</a></h2>
<h3 id="dcm2bids-advanced-options">dcm2bids advanced options<a class="headerlink" href="#dcm2bids-advanced-options" title="Permanent link">⚓︎</a></h3>
<p>By now, you should be used to getting the <code>--help</code> information before running a
command.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Command</label><label for="__tabbed_1_2">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dcm2bids<span class="w"> </span>--help
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">(</span>dcm2bids<span class="o">)</span><span class="w"> </span>sam:~/dcm2bids-tutorial/bids_project$<span class="w"> </span>dcm2bids<span class="w"> </span>--help
<span class="hll">usage:<span class="w"> </span>dcm2bids<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span>-d<span class="w"> </span>DICOM_DIR<span class="w"> </span><span class="o">[</span>DICOM_DIR<span class="w"> </span>...<span class="o">]</span><span class="w"> </span>-p<span class="w"> </span>PARTICIPANT<span class="w"> </span><span class="o">[</span>-s<span class="w"> </span>SESSION<span class="o">]</span><span class="w"> </span>-c<span class="w"> </span>CONFIG<span class="w"> </span><span class="o">[</span>-o<span class="w"> </span>OUTPUT_DIR<span class="o">]</span>
</span><span class="hll"><span class="w">                </span><span class="o">[</span>--auto_extract_entities<span class="o">]</span><span class="w"> </span><span class="o">[</span>--bids_validate<span class="o">]</span><span class="w"> </span><span class="o">[</span>--force_dcm2bids<span class="o">]</span><span class="w"> </span><span class="o">[</span>--skip_dcm2niix<span class="o">]</span><span class="w"> </span><span class="o">[</span>--clobber<span class="o">]</span>
</span><span class="w">                </span><span class="o">[</span>-l<span class="w"> </span><span class="o">{</span>DEBUG,INFO,WARNING,ERROR,CRITICAL<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-a<span class="o">]</span>

Reorganising<span class="w"> </span>NIfTI<span class="w"> </span>files<span class="w"> </span>from<span class="w"> </span>dcm2niix<span class="w"> </span>into<span class="w"> </span>the<span class="w"> </span>Brain<span class="w"> </span>Imaging<span class="w"> </span>Data<span class="w"> </span>Structure
dcm2bids<span class="w"> </span><span class="m">3</span>.0.0

options:
-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
-d<span class="w"> </span>DICOM_DIR<span class="w"> </span><span class="o">[</span>DICOM_DIR<span class="w"> </span>...<span class="o">]</span>,<span class="w"> </span>--dicom_dir<span class="w"> </span>DICOM_DIR<span class="w"> </span><span class="o">[</span>DICOM_DIR<span class="w"> </span>...<span class="o">]</span>
<span class="w">                        </span>DICOM<span class="w"> </span>directory<span class="o">(</span>ies<span class="o">)</span>
-p<span class="w"> </span>PARTICIPANT,<span class="w"> </span>--participant<span class="w"> </span>PARTICIPANT
<span class="w">                        </span>Participant<span class="w"> </span>ID
-s<span class="w"> </span>SESSION,<span class="w"> </span>--session<span class="w"> </span>SESSION
<span class="w">                        </span>Session<span class="w"> </span>ID
-c<span class="w"> </span>CONFIG,<span class="w"> </span>--config<span class="w"> </span>CONFIG
<span class="w">                        </span>JSON<span class="w"> </span>configuration<span class="w"> </span>file<span class="w"> </span><span class="o">(</span>see<span class="w"> </span>example/config.json<span class="o">)</span>
-o<span class="w"> </span>OUTPUT_DIR,<span class="w"> </span>--output_dir<span class="w"> </span>OUTPUT_DIR
<span class="w">                        </span>Output<span class="w"> </span>BIDS<span class="w"> </span>directory,<span class="w"> </span>Default:<span class="w"> </span>current<span class="w"> </span>directory<span class="w"> </span><span class="o">(</span>/home/sam/dcm2bids-tutorial/bids_project<span class="o">)</span>
--auto_extract_entities<span class="w"> </span>If<span class="w"> </span>set,<span class="w"> </span>it<span class="w"> </span>will<span class="w"> </span>automatically<span class="w"> </span>try<span class="w"> </span>to<span class="w"> </span>extract<span class="w"> </span>entity<span class="w"> </span>information<span class="w"> </span><span class="o">[</span>task,<span class="w"> </span>dir,<span class="w"> </span>echo<span class="o">]</span>
<span class="w">                        </span>depending<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>suffix<span class="w"> </span>and<span class="w"> </span>datatype.<span class="w"> </span><span class="o">[</span>False<span class="o">]</span>
--bids_validate<span class="w">       </span>If<span class="w"> </span>set,<span class="w"> </span>once<span class="w"> </span>your<span class="w"> </span>conversion<span class="w"> </span>is<span class="w"> </span><span class="k">done</span><span class="w"> </span>it<span class="w"> </span>will<span class="w"> </span>check<span class="w"> </span><span class="k">if</span><span class="w"> </span>your<span class="w"> </span>output<span class="w"> </span>folder<span class="w"> </span>is<span class="w"> </span>BIDS<span class="w"> </span>valid.<span class="w"> </span><span class="o">[</span>False<span class="o">]</span>
<span class="w">                      </span>bids-validator<span class="w"> </span>needs<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>check:<span class="w"> </span>https://github.com/bids-standard/bids-validator#quickstart
--force_dcm2bids<span class="w">       </span>Overwrite<span class="w"> </span>previous<span class="w"> </span>temporary<span class="w"> </span>dcm2bids<span class="w"> </span>output<span class="w"> </span><span class="k">if</span><span class="w"> </span>it<span class="w"> </span>exists.
--skip_dcm2niix<span class="w">       </span>Skip<span class="w"> </span>dcm2niix<span class="w"> </span>conversion.<span class="w"> </span>Option<span class="w"> </span>-d<span class="w"> </span>should<span class="w"> </span>contains<span class="w"> </span>NIFTI<span class="w"> </span>and<span class="w"> </span>json<span class="w"> </span>files.
--clobber<span class="w">             </span>Overwrite<span class="w"> </span>output<span class="w"> </span><span class="k">if</span><span class="w"> </span>it<span class="w"> </span>exists.
-l<span class="w"> </span><span class="o">{</span>DEBUG,INFO,WARNING,ERROR,CRITICAL<span class="o">}</span>,<span class="w"> </span>--log_level<span class="w"> </span><span class="o">{</span>DEBUG,INFO,WARNING,ERROR,CRITICAL<span class="o">}</span>
<span class="w">                        </span>Set<span class="w"> </span>logging<span class="w"> </span>level

<span class="w">            </span>Documentation<span class="w"> </span>at<span class="w"> </span>https://github.com/unfmontreal/Dcm2Bids
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h3 id="-auto_extract_entities"><code>--auto_extract_entities</code><a class="headerlink" href="#-auto_extract_entities" title="Permanent link">⚓︎</a></h3>
<p>This option will automatically try to find 3 entities (task, dir and echo) for
specific datatype/suffix.</p>
<ul>
<li><code>task</code> in the SeriesDescription field</li>
</ul>
<p>Regular expression <code>task-(?P&lt;task&gt;[a-zA-Z0-9]+)</code></p>
<ul>
<li><code>dir</code> in the PhaseEncodedDirection field</li>
</ul>
<p>Regular expression <code>(?P&lt;dir&gt;-?j|i)</code></p>
<ul>
<li><code>echo</code> in the EchoNumber field</li>
</ul>
<p>Regular expression <code>(?P&lt;echo&gt;[0-9])</code></p>
<p>If found, it will try to feed the filename with this entity <strong>if they are
mandatory</strong>.</p>
<p>For example, a "pepolar" fieldmap data requires the entity <code>dir</code> (See
<a href="https://bids-specification.readthedocs.io/en/stable/04-modality-specific-files/01-magnetic-resonance-imaging-data.html#case-4-multiple-phase-encoded-directions-pepolar">BIDS specification</a>).
If you set this parameter, it will automatically try to find this entity and add
it to the filename.</p>
<p>So far and accordingly to the BIDS specification 5 datatype/suffix automatically
look for this 3 entities.</p>
<table>
<thead>
<tr>
<th align="center">datatype</th>
<th align="center">suffix</th>
<th align="center">Entities</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">anat</td>
<td align="center">MEGRE</td>
<td align="center">echo</td>
</tr>
<tr>
<td align="center">anat</td>
<td align="center">MESE</td>
<td align="center">echo</td>
</tr>
<tr>
<td align="center">func</td>
<td align="center">cbv</td>
<td align="center">task</td>
</tr>
<tr>
<td align="center">func</td>
<td align="center">bold</td>
<td align="center">task</td>
</tr>
<tr>
<td align="center">func</td>
<td align="center">sbref</td>
<td align="center">task</td>
</tr>
<tr>
<td align="center">fmap</td>
<td align="center">epi</td>
<td align="center">dir</td>
</tr>
</tbody>
</table>
<p>Using the <code>--auto_extract_entitie</code>, if you want another combination of
datatype/suffix to be able to extract one or more of these 3 entities you need
to add the key of the entities needed using the field custom_entities like this
within your description:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">&quot;custom_entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;dir&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p><img alt="⚠️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png" title=":warning:" /> If task is found, it will automatically add the field <code>TaskName</code> into
the sidecar file. It means you don't have to add the field in the config file
like this.</p>
<p><strike></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;sidecar_changes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;TaskName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;learning&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p></strike></p>
<p><img alt="☢️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2622.png" title=":radioactive:" /> You can find more detailed information by looking at the file <a href="../dcm2bids/utils/utils/"><code>dcm2bids/utils/utils.py</code></a> and
more specifically <em><code>auto_extractors</code></em> and <em><code>auto_entities</code></em> variables.</p>
<h3 id="-bids_validate"><code>--bids_validate</code><a class="headerlink" href="#-bids_validate" title="Permanent link">⚓︎</a></h3>
<p>By default, dcm2bids will not validate your final BIDS structure. If needed, you
can install
<a href="https://github.com/bids-standard/bids-validator#quickstart">bids-validator</a> and
activate this option.</p>
<h3 id="-skip_dcm2niix"><code>--skip_dcm2niix</code><a class="headerlink" href="#-skip_dcm2niix" title="Permanent link">⚓︎</a></h3>
<p>If you don't have access to original dicom files you can still use dcm2bids to reorganise your data into a BIDS structure.
Using the option --skip_dcm2niix you will skip the conversion step.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-08-02T13:39:49+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-08-02</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2019-04-04T14:35:37+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2019-04-04</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../create-config-file/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Create a config file" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Create a config file
              </div>
            </div>
          </a>
        
        
          
          <a href="../contributing/" class="md-footer__link md-footer__link--next" aria-label="Next: Contribute to dcm2bids" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Contribute to dcm2bids
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/UNFmontreal/Dcm2Bids" target="_blank" rel="noopener" title="dcm2bids on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://hub.docker.com/r/unfmontreal/dcm2bids" target="_blank" rel="noopener" title="dcm2bids on docker" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.top", "navigation.tracking", "search.highlight", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias_type": "symlink", "canonical_version": "latest", "default": "latest", "provider": "mike", "redirect_template": null, "version_selector": true}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../js/timeago.min.js"></script>
        
      
        
          <script src="../../js/timeago_mkdocs_material.js"></script>
        
      
    
  </body>
</html>